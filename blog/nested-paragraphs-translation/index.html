<!DOCTYPE html> <html lang=" en "><head> <meta charset="utf-8" /> <title> [Paragraphs] Nested Paragraphs translation -Saša Nikolič </title> <meta http-equip="X-UA-Compatible" content="IE=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <meta name="keywords" content="[Paragraphs] Nested Paragraphs translation, Saša Nikolič, paragraphs,drupalplanet, gsoc, drupal, ckeditor plugins, translation"/> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" /> <meta content="" property="fb:app_id" /> <meta content="Saša Nikolič" property="og:site_name" /> <meta content="[Paragraphs] Nested Paragraphs translation" property="og:title" /> <meta content="article" property="og:type" /> <meta content="This is my window to the open internet world." property="og:description" /> <meta content="/blog/nested-paragraphs-translation/" property="og:url" /> <meta content="2017-06-30T10:00:00+00:00" property="article:published_time" /> <meta content="/about/" property="article:author" /> <meta content="/assets/img/posts/paragraphs-logo.png" property="og:image" /> <meta content="paragraphs" property="article:section" /> <!-- Twitter Cards --> <meta name="twitter:card" content="summary" /> <meta name="twitter:site" content="@" /> <meta name="twitter:creator" content="@" /> <meta name="twitter:title" content="[Paragraphs] Nested Paragraphs translation" /> <meta name="twitter:url" content="/blog/nested-paragraphs-translation/" /> <meta name="twitter:description" content="This is my window to the open internet world." /> <link rel="stylesheet" href="/assets/css/main.css" /> <!-- <link rel="stylesheet" href="/assets/css/custom-style.css" /> --> <link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css" /> <link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css" /> <link rel="stylesheet" href="/assets/bower_components/icono/dist/icono.min.css" /> <!-- Fonts--> <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet" /> <!-- Favicon --> <link rel="icon" href="/assets/img/favicon.ico" type="image/gif" sizes="16x16" /> <script> var base_url = '' ; </script> <!-- Jquery --> <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous" ></script> <!-- <script src="/assets/bower_components/jquery/dist/jquery.min.js"></script> --> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/ghosthunter/dist/jquery.ghostHunter.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.2/picturefill.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script src="/assets/js/search.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script> <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script> <!-- for Mathjax support --> <!-- Github Button --> <script async defer src="https://buttons.github.io/buttons.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous" ></script> <!-- (you can remove the below scripts but do buy me a coffee to show some support :) --> <!-- buy me a coffeee --> <script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="sasanikolic90" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FF813F" data-position="right" data-x_margin="10" data-y_margin="10" ></script> <!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]--> <!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]--> </head> <body> <nav class="navbar navbar-expand-lg fixed-top navbar-dark" id="topNav"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" > <span class="icono-hamburger" id="navbar-hamburger"> </span> </button> <a class="navbar-brand" href="/">Saša Nikolič</a> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="/" >Home</a > </li> <li class="nav-item"> <a class="nav-link" href="/about" >About</a > </li> <li class="nav-item"> <a class="nav-link" href="/blog" >Blog</a > </li> <li class="nav-item"> <a class="nav-link" href="/contact" >Contact</a > </li> </ul> </div> <ul class="nav justify-content-end"> <li class="nav-item"> <a class="nav-link toggle-search-button" href="#search"> <i class="fa fa-search search-icon" aria-hidden="true"></i> </a> </li> <li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() " type="checkbox" name="checkbox" /> </li> </ul> </nav> <!-- Search Form --> <div class="search-form-container"> <form class="search-form"> <fieldset class="search-form__fieldset"> <div class="row"> <div class="col-lg-8 offset-md-2"> <input class="search-form__field" placeholder="Type to Search..." autofocus> <input class="search-form__submit" type="submit" value="search"> </div> </div> </fieldset> </form> <div class="row"> <div class="col-lg-8 offset-md-2 search-results"> <div class="card search-results"></div> </div> </div> <div class="close-search-button search-form-container__close"> <i class="fa fa-times icon"></i> </div> </div><div class="col-lg-12"> <div class="row" id="blog-post-container"> <div class="col-lg-8 offset-md-2"><article class="card" itemscope itemtype="http://schema.org/BlogPosting"> <div class="card-header"> <h1 class="post-title" itemprop="name headline">[Paragraphs] Nested Paragraphs translation</h1> <h4 class="post-meta"></h4> <p class="post-summary"> Posted by : <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name"><a href="/blog/authors/sasanikolic">sasanikolic</a></span> </span > at <time datetime="2017-06-30 10:00:00 +0000" itemprop="datePublished" >Jun 30, 2017</time > </p> <span class="disqus-comment-count" data-disqus-identifier="/blog/nested-paragraphs-translation/" ></span> <div class="post-categories"> Category : <a href="/blog/categories/paragraphs" >paragraphs</a > </div> </div> <div class="card-body" itemprop="articleBody"> <img class="card-img-top" src="/assets/img/posts/paragraphs-logo.png" alt="" /> <br /> <br /> <p>Looking back, translating content in Drupal 7 wasn’t a straightforward task. It involved enabling a number of modules to do all the translations properly. In Drupal 8 however, the Multilingual Initiative took big steps forward to enhance multilingual support for users.</p> <p>Since its introduction in May, 2011, huge efforts by everyone involved resulted in hundreds of issues resolved and many great improvements have since been made that now drastically simplifies the site building process.</p> <p>Nevertheless, basic Drupal content management can be extended with many modules. One of the most popular is Paragraphs. Instead of putting the content in one WYSIWYG body field, it lets users choose between predefined Paragraph Types. These can be anything from a simple text field to a combination of images, text, videos and slideshows.</p> <p>We are extensively using Paragraphs at Amazee Labs for our content-rich websites and opted for its use for our first fully-decoupled Drupal project as well.</p> <p>Paragraphs in Drupal 7 currently lacks support for Entity Translation. However, this has been successfully implemented in its new iteration and I personally contributed in this process. The translation process is not as straightforward as translating basic nodes or other entities and users are still facing many issues. For a better understanding of the topic, a community documentation page for <a href="https://www.drupal.org/node/2735121">Paragraphs Multilanguage constraints</a> was created on <a href="https://www.drupal.org">Drupal.org</a>.</p> <p>This page covers only the basic setup and some general constraints. But how do we set it up for complex projects, with many levels of nested paragraphs? Let’s recap the basics first and dig deeper in nested paragraph translation a bit later.</p> <h2 id="basic-rules">Basic rules</h2> <p>The Paragraphs module works within a multi-language setup but there are crucial steps in order to achieve the correct functionality. We can split the set up into two parts:</p> <ul> <li><strong>Site building:</strong> <ul> <li>Translatable paragraph fields on the parent entity are not supported (e.g. Node, Taxonomy term, etc.)</li> <li>Disable translation on an Entity Reference revision field either inside a Content type or Paragraph (untick Users may translate this field)</li> </ul> </li> <li><strong>Content language and translation UI:</strong> <ul> <li>Disable translation on an Entity Reference revision field (where it says (* unsupported))</li> <li>Enable the translation on every Paragraph</li> </ul> </li> </ul> <h2 id="example">Example</h2> <p>That being said, let’s look at an example of the correct and incorrect way to enable translatable paragraphs.</p> <p>The first point says that whenever we create a field that holds paragraph elements on the first level - on a content type, for example, should not be translatable. The example node, in this case, contains a Content field (field_landing_page_content) which is a reference to many other Paragraphs, like Gallery and Accordion. This field must <strong>NOT</strong> be set to translatable - “Users may translate this field” should be <strong>unchecked</strong>!</p> <figure> <img src="/assets/img/posts/paragraphs-translation-1.png" alt="Uncheck users may translate this field" /> <figcaption>"Users may translate this field” should be unchecked!</figcaption> </figure> <p>Instead, only Paragraph types that contain content fields, like links, texts or images need to be set to translatable, because this fields itself need to be translated.</p> <p>To activate the multi-language functionality you need to go to: <code class="language-plaintext highlighter-rouge">admin/config/regional/content-language</code>. This step is crucial when dealing with nested Paragraphs. In our case we use a structure with 3 levels of paragraphs that looks like this:</p> <p>~ <strong>1st Level Page</strong> (Node)</p> <p>~ ~ <strong>Content</strong> (Entity reference revisions field, not translatable)</p> <p>~ ~ ~ <strong>Section</strong> (Paragraph, has Entity reference revisions field Content with Accordion Paragraph and others)</p> <p>~ ~ ~ ~ <strong>Accordion</strong> (Paragraph, has Entity reference revisions field Accordion container with different accordion paragraphs)</p> <p>~ ~ ~ ~ ~ <strong>Simple Accordion Item</strong> (Paragraph, has Entity reference revisions field Content with different content paragraphs)</p> <p>~ ~ ~ ~ ~ ~ <strong>Title, Text, Video, Gallery etc.</strong> (Paragraph, text, link and Entity reference (media) fields)</p> <p>As a first step here, make sure Paragraph is checked.</p> <figure> <img src="/assets/img/posts/paragraphs-translation-2.png" alt="Paragraph should be checked" /> <figcaption>Make sure "Paragraph" is checked.</figcaption> </figure> <p>Under the 1st level page, the content should <strong>NOT</strong> be set to translatable. The Paragraphs module is smart enough to warn us about the Entity reference revisions fields being currently unsupported (there is a <a href="https://www.drupal.org/node/2461695">big meta ticket</a> about this topic on d.o.).</p> <figure> <img src="/assets/img/posts/paragraphs-translation-3.png" alt="Content untranslatable" /> <figcaption>Content should be set to untranslatable.</figcaption> </figure> <p>Next, we need to dig into the fun part - the Paragraph section. Let’s look at the example mentioned above. Every Paragraph should be set translatable.</p> <figure> <img src="/assets/img/posts/paragraphs-translation-4.png" alt="Translatable paragraphs" /> <figcaption>Paragraphs should be translated.</figcaption> </figure> <p>At least one field should be selected in order for a Paragraph to be translatable. If the Paragraph has only one field, which is of type Entity reference revisions (a linking Paragraph), we need to check some of the default text fields.</p> <figure> <img src="/assets/img/posts/paragraphs-translation-5.png" alt="Select at least one field" /> <figcaption>Select at least one field per Paragraph.</figcaption> </figure> <p>Here we want to translate specific text fields as usual.</p> <figure> <img src="/assets/img/posts/paragraphs-translation-6.png" alt="Translating text" /> <figcaption>Text translation in a Paragraph should be always enabled.</figcaption> </figure> <p>Saving this configuration should get you up and running and ready to go. Happy Paragraph translating!</p> <br /><!-- Load Facebook SDK for JavaScript --> <div id="fb-root"></div> <script> (function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0"; fjs.parentNode.insertBefore(js, fjs); })(document, "script", "facebook-jssdk"); </script> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8" ></script> <div class="share-page"> <p class="share-text">Share this on &rarr;</p> <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-size="large" data-show-count="false" style="margin-top:5px;" >Tweet</a > <a class="fb-share-button" data-href="/blog/nested-paragraphs-translation/" data-size="large" data-layout="button" >Share</a> </div><!-- Author box --> <div class="card"> <div class="card-header"> About Saša Nikolič </div> <div class="card-body"> <div class="row"> <div class="col-md-4"> <img class="author-profile-img" src="/assets/img/authors/sasa.png" alt="Saša Nikolič" /> </div> <div class="col-md-6"> <p class="author_bio">Web Developer. Occasionally, I write blogs and present publicly.</p> <p>Email : nikolic.sasa09@gmail.com</p> <p>Website : https://www.sasanikolic.com</p> <p class="profile-links"> <a class="social-link" href="https://github.com/sasanikolic90" target="_blank"><i class="fab fa-github fa-fw"></i></a> <a class="social-link" href="https://www.linkedin.com/in/saša-nikolič-62399992" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a> <a class="social-link" href="https://www.facebook.com/sasanikolic123" target="_blank"><i class="fab fa-facebook fa-fw"></i></a> <a class="social-link" href="https://www.twitter.com/sasanikolic90" target="_blank"><i class="fab fa-twitter fa-fw"></i></a> <a class="social-link" href="https://instagram.com/sasha.nklc" target="_blank"><i class="fab fa-instagram fa-fw"></i></a> </p> </div> </div> </div> </div> </div><!-- Incomment incase you want to use Disqus <div id="disqus_thread"></div> --> </article> <script> var disqus_config = function () { this.page.url = "/blog/nested-paragraphs-translation/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/blog/amazee-nested-paragraphs-translation"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://sasanikolic.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript></div> </div> <div class="row"> <div class="col-md-4"> <div class="card"> <div class="card-header">About Saša Nikolič</div> <div class="card-body"> <p class="author_bio">I'm a Front-End Drupal Developer for MD Systems working remotely. I have serious passion for UI effects, animations and creating intuitive, dynamic user experiences. I love structure and order and I also stand for quality.</p> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Categories</div> <div class="card-body text-dark"> <div id="#gsoc-2016"></div> <li class="tag-head"> <a href="/blog/categories/gsoc-2016">gsoc-2016</a> </li> <a name="gsoc-2016"></a> <div id="#paragraphs"></div> <li class="tag-head"> <a href="/blog/categories/paragraphs">paragraphs</a> </li> <a name="paragraphs"></a> <div id="#tech-2021"></div> <li class="tag-head"> <a href="/blog/categories/tech-2021">tech-2021</a> </li> <a name="tech-2021"></a> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Useful Links</div> <div class="card-body text-dark"> <li> <a href="/">Home</a> </li> <li> <a href="/about">About</a> </li> <li> <a href="/blog">Blog</a> </li> <li> <a href="/contact">Contact</a> </li> </div> </div> </div> </div> </div><footer> <p> Powered by <a href="https://github.com/sujaykundu777/devlopr-jekyll"> devlopr jekyll</a>. Subscribe via <a href=" /feed.xml ">RSS</a>.</p> </footer> <script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div> <script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script> <script src="/assets/js/mode-switcher.js"></script> <script> if (window.netlifyIdentity) { window.netlifyIdentity.on("init", user => { if (!user) { window.netlifyIdentity.on("login", () => { document.location.href = "/admin/"; }); } }); } </script> </body> </html>
